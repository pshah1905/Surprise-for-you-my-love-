<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Uddipana ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
html,body{height:100%;overflow:hidden}
body{
  background-size:cover;
  background-position:center;
  transition:background-image 1s ease;
}
#app{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.card{
  width:90%;
  max-width:440px;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(10px);
  color:#fff;
  padding:24px;
  border-radius:22px;
  text-align:center;
  animation:pop .45s ease;
  position:relative;
}
h1,h2,h3{margin-bottom:10px}
p{margin:10px 0;line-height:1.5}
img{
  width:100%;
  border-radius:16px;
  margin:12px 0;
}
.scroll-box{
  max-height:280px;
  overflow:auto;
}
button{
  padding:14px 26px;
  border:none;
  border-radius:30px;
  background:#ff77b7;
  color:#fff;
  font-size:18px;
  cursor:pointer;
  margin-top:12px;
}
button.alt{background:#ff9fca}
.move{position:absolute}
@keyframes pop{from{transform:scale(.85);opacity:0}to{transform:scale(1);opacity:1}}

.heart,.spark,.firework{
  position:fixed;
  pointer-events:none;
}
.heart{animation:float 1.6s linear forwards;font-size:18px}
@keyframes float{to{transform:translateY(-140px);opacity:0}}
.spark{animation:spark 0.6s linear forwards;font-size:14px}
@keyframes spark{to{transform:translateY(-60px);opacity:0}}
.firework{animation:boom 1s ease forwards;font-size:32px}
@keyframes boom{from{transform:scale(.3)}to{transform:scale(2.2);opacity:0}}

.hidden{display:none}
</style>
</head>

<body>

<audio id="music" src="music.mp3" autoplay loop></audio>
<audio id="clickSound" src="click.mp3"></audio>
<audio id="fireSound" src="fireworks.mp3"></audio>

<div id="app"></div>

<script>
const app = document.getElementById("app");
const music = document.getElementById("music");
const clickSound = document.getElementById("clickSound");
const fireSound = document.getElementById("fireSound");

/* ---------- BACKGROUNDS (cycle forever) ---------- */
const backgrounds = ["bg1.jpg","bg2.jpg","bg3.jpg","bg4.jpg","bg5.jpg"];
let bgIndex = 0;
function changeBg(){
  document.body.style.backgroundImage = `url('${backgrounds[bgIndex]}')`;
  bgIndex = (bgIndex + 1) % backgrounds.length;
}
changeBg();

/* ---------- GLOBAL EFFECTS ---------- */
function spawnHearts(x,y,count=8){
  for(let i=0;i<count;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.textContent=["ğŸ’–","ğŸ’—","ğŸ’˜"][Math.floor(Math.random()*3)];
    h.style.left=x+"px";
    h.style.top=y+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1600);
  }
}
function sparks(x,y,count=6){
  for(let i=0;i<count;i++){
    const s=document.createElement("div");
    s.className="spark";
    s.textContent="âœ¨";
    s.style.left=x+"px";
    s.style.top=y+"px";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),600);
  }
}
document.addEventListener("click",e=>{
  spawnHearts(e.clientX,e.clientY);
  sparks(e.clientX,e.clientY);
  if(navigator.vibrate) navigator.vibrate(120);
  clickSound.currentTime=0; clickSound.play();
});

/* ---------- STORY DATA ---------- */
const story = [
{
  text:`<h2>Happy New Year 2026 âœ¨</h2>
        <p>Meeting you was completely unexpectedâ€¦<br>
        and I never thought Iâ€™d fall like this ğŸ’—</p>
        <p><b>Uddipana</b>, this is for you.</p>`,
  button:"Start ğŸ’"
},
{
  img:"photo5.jpg",
  text:`Seeing us together still feels unreal ğŸ¥ºğŸ’—
        Iâ€™m so grateful the universe crossed our paths.`
},
{
  img:"photo1.jpg",
  text:`I was telling YOU to be shyâ€¦<br>
        and look who became shy ğŸ˜­ğŸ’—<br>
        and you were teasing me ha.`
},
{
  imgs:["photo2.jpg","photo3.jpg"],
  text:`That manga & the note ğŸ“–ğŸ’Œ<br>
        You remembered something I wanted.<br>
        I felt so seen, so cared for.`
},
{
  img:"photo4.jpg",
  text:`This guitar art ğŸ¸ğŸ’–<br>
        I didnâ€™t expect it at allâ€¦ it made me emotional.`
},
{
  img:"photo6.jpg",
  text:`That brown top and your smileâ€¦<br>
        uff, lovely as always ğŸ˜­ğŸ’—`
},
{
  imgs:["photo7.jpg","photo8.jpg"],
  text:`Orange saree, mehendi, bangles ğŸ§¡<br>
        You KNOW how much I love orange on you.`
},
{
  img:"photo9.jpg",
  text:`Pink saree fairy ğŸ§šâ€â™€ï¸ğŸ’—<br>
        Soft, elegant, unreal.`
},
{
  img:"photo10.jpg",
  text:`I wish I was thereâ€¦<br>
        to see your sleepy face and steal that blanket ğŸ¥ºğŸ’—`
},
{
  img:"photo11.jpg",
  text:`When you send me trial-room picsâ€¦<br>
        you have no idea how special it makes me feel ğŸ’`
},
{
  img:"photo12.jpg",
  text:`That purple, that lipstick, those earrings ğŸ’œ<br>
        My eyes had no chance.`
},
{
  img:"photo13.jpg",
  text:`My favourite dressâ€¦<br>
        and you made it your caller profile.<br>
        I get distracted when you call, sorry ğŸ˜‚ğŸ’—`
},
{
  text:`Quick question ğŸ˜<br>
        Be honestâ€¦ do you miss me right now?`,
  buttons:["Yes ğŸ˜³","No ğŸ˜"],
  prank:true
}
];

let step = 0;

/* ---------- RENDER ---------- */
function render(){
  changeBg();
  const s = story[step];
  let html = `<div class="card">`;

  if(s.img) html += `<img src="${s.img}">`;
  if(s.imgs){
    html += `<div class="scroll-box">`;
    s.imgs.forEach(i=>html+=`<img src="${i}">`);
    html += `</div>`;
  }

  html += `<p>${s.text||""}</p>`;

  if(s.buttons){
    html += `<div>`;
    s.buttons.forEach((b,i)=>{
      html += `<button class="alt" onclick="answer(${i})">${b}</button> `;
    });
    html += `</div>`;
  } else {
    html += `<button onclick="next()"> ${s.button||"Next ğŸ’—"} </button>`;
  }

  html += `</div>`;
  app.innerHTML = html;
}

/* ---------- FLOW ---------- */
function next(){
  step++;
  if(step < story.length){
    render();
  } else {
    prankCatch();
  }
}

/* ---------- QUESTION PRANK ---------- */
function answer(i){
  if(i===1){
    app.innerHTML = `
      <div class="card">
        <h3>How dare you ğŸ˜¤ğŸ’–</h3>
        <p>Iâ€™m not leaving you alone.<br>Try again.</p>
        <button onclick="render()">Try again ğŸ˜Œ</button>
      </div>`;
  } else {
    next();
  }
}

/* ---------- CATCH ME GAME ---------- */
let dodge = 0;
function prankCatch(){
  app.innerHTML = `
    <div class="card">
      <h3>Catch me ğŸ˜</h3>
      <p>Click the button if you can ğŸ’•</p>
      <button id="dodgeBtn" class="move">I like you ğŸ’–</button>
    </div>`;
  const b=document.getElementById("dodgeBtn");
  b.onclick=()=>{
    dodge++;
    b.style.left=Math.random()*70+"%";
    b.style.top=Math.random()*70+"%";
    b.style.transition="0.1s";
    if(dodge>=5) secretLevel();
  };
}

/* ---------- SECRET LONG PRESS ---------- */
function secretLevel(){
  app.innerHTML=`
    <div class="card">
      <h3>Secret level ğŸ¤«</h3>
      <p>Long-press anywhere for a surpriseâ€¦</p>
    </div>`;
  let t;
  document.onmousedown=()=>t=setTimeout(finale,1200);
  document.onmouseup=()=>clearTimeout(t);
}

/* ---------- FINAL ---------- */
function finale(){
  fireSound.currentTime=0;
  fireSound.volume=1;
  fireSound.play();

  for(let i=0;i<40;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.textContent=["ğŸ†","ğŸ‡","ğŸ‰"][Math.floor(Math.random()*3)];
    f.style.left=Math.random()*100+"%";
    f.style.top=Math.random()*100+"%";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }

  app.innerHTML=`
    <div class="card">
      <h1>I LOVE YOU ğŸ’–</h1>
      <p>Happy New Year, my favourite person âœ¨ğŸ‰</p>
      <p>Thank you for choosing me, for existing,
         for making my life softer and brighter.</p>
    </div>`;
}

render();
</script>
</body>
</html>
